<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 8_데이터 시각화-ECharts 연동하기</title>
    
    <style>
    body {
        font-family: 'Malgun Gothic', '맑은 고딕', 'Noto Sans CJK KR', 'Dotum', '돋움', 'Gulim', '굴림', Arial, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 900px;
        margin: 0 auto;
        padding: 40px 20px;
        background-color: #fff;
    }
    
    h1, h2, h3, h4, h5, h6 {
        color: #2c3e50;
        margin-top: 2em;
        margin-bottom: 1em;
        text-align: left;
    }
    
    h1 {
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
        text-align: center;
        margin-bottom: 2em;
    }
    
    h2 {
        border-bottom: 2px solid #ecf0f1;
        padding-bottom: 8px;
    }
    
    p {
        margin-bottom: 1em;
        text-align: justify;
    }
    
    code {
        background-color: #f1f3f4;
        border: 1px solid #e1e4e8;
        border-radius: 3px;
        padding: 2px 6px;
        font-family: 'Consolas', 'Monaco', 'Courier New', 'D2Coding', 'Nanum Gothic Coding', monospace;
        font-size: 0.9em;
        color: #24292e;
    }
    
    pre {
        background-color: #f6f8fa;
        border: 1px solid #e1e4e8;
        border-radius: 6px;
        padding: 16px;
        overflow-x: auto;
        margin: 1em 0;
        line-height: 1.45;
        font-family: 'Consolas', 'Monaco', 'Courier New', 'D2Coding', 'Nanum Gothic Coding', monospace;
    }
    
    pre code {
        background: none;
        border: none;
        padding: 0;
        color: inherit;
        font-size: 0.9em;
    }
    
    /* Enhanced syntax highlighting support */
    .highlight {
        background-color: #f6f8fa;
        border-radius: 6px;
        margin: 1em 0;
    }
    
    .highlight pre {
        background: none;
        border: none;
        margin: 0;
    }
    
    /* Fix Vue.js template syntax highlighting issues */
    .highlight .err {
        background: none !important;
        border: none !important;
        color: #24292e !important;
    }
    
    /* Override error highlighting for Vue directives */
    .highlight .nt {
        color: #22863a;
    }
    
    .highlight .na {
        color: #6f42c1;
    }
    
    table {
        border-collapse: collapse;
        width: 100%;
        margin: 1.5em auto;
    }
    
    table th, table td {
        border: 1px solid #ddd;
        padding: 12px 8px;
        text-align: left;
    }
    
    table th {
        background-color: #f2f2f2;
        font-weight: bold;
        text-align: center;
    }
    
    blockquote {
        border-left: 4px solid #3498db;
        margin: 1em 0;
        padding-left: 20px;
        color: #7f8c8d;
        font-style: italic;
    }
    
    ul, ol {
        margin: 1em 0;
        padding-left: 2em;
    }
    
    li {
        margin-bottom: 0.5em;
    }
    
    hr {
        border: none;
        height: 2px;
        background-color: #ecf0f1;
        margin: 3em 0;
    }
    
    img {
        max-width: 100%;
        height: auto;
        display: block;
        margin: 1em auto;
        border-radius: 5px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    
    .highlight {
        background-color: #fff3cd;
        border: 1px solid #ffeaa7;
        border-radius: 5px;
        padding: 10px;
        margin: 1em 0;
    }
    
    @media print {
        body {
            max-width: none;
            margin: 0;
            padding: 20px;
        }
    }
    </style>
    
</head>
<body>
    <h1 id="-echarts"><strong>데이터 시각화 - ECharts 연동하기</strong></h1>
<h2 id="echarts"><strong>ECharts 소개</strong></h2>
<h3 id="echarts_1"><strong>ECharts란 무엇인가?</strong></h3>
<p>ECharts(Enterprise Charts)는 Apache 소프트웨어 재단에서 관리하는 오픈소스 데이터 시각화 라이브러리입니다. 원래 중국의 Baidu에서 개발했으며, 현재는 Apache 프로젝트로 전 세계적으로 활발히 사용되고 있습니다. 반도체 장비에서 생성되는 복잡한 데이터를 직관적으로 시각화하는 데 매우 적합한 도구입니다.</p>
<p><strong>💡 추가 학습 자료</strong>
ECharts 공식 홈페이지(https://echarts.apache.org/examples/)에서 다양한 차트와 예제들을 볼 수 있으니 직접 코드를 확인하면서 구현하길 추천합니다.</p>
<h3 id="echarts_2"><strong>ECharts의 주요 특징</strong></h3>
<p><strong>강력한 성능</strong> ECharts는 Canvas와 SVG 렌더링을 모두 지원하여 대용량 데이터도 부드럽게 표현할 수 있습니다. 특히 AFM 측정 데이터처럼 수만 개의 데이터 포인트를 가진 경우에도 성능 저하 없이 시각화가 가능합니다. 스트리밍 데이터나 실시간 업데이트가 필요한 대시보드에서도 안정적인 성능을 보여줍니다.</p>
<p><strong>다양한 차트 타입</strong> 기본적인 선 그래프, 막대 그래프부터 히트맵, 3D 차트, 지도 기반 시각화까지 30가지 이상의 차트 타입을 제공합니다. 반도체 공정 데이터 분석에 자주 사용되는 박스플롯, 산점도 행렬, 평행 좌표계 등 고급 차트도 지원합니다.</p>
<p><strong>인터랙티브 기능</strong> 사용자가 차트와 상호작용할 수 있는 다양한 기능을 제공합니다. 데이터 줌, 드래그, 툴팁, 범례 필터링 등으로 사용자가 원하는 데이터를 자유롭게 탐색할 수 있습니다. 이는 엔지니어가 특정 구간의 데이터를 세밀하게 분석할 때 매우 유용합니다.</p>
<h3 id="_1"><strong>다른 차트 라이브러리와의 비교</strong></h3>
<table>
<thead>
<tr>
<th>특징</th>
<th>ECharts</th>
<th>Chart.js</th>
<th>D3.js</th>
<th>Highcharts</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>학습 곡선</strong></td>
<td>중간</td>
<td>쉬움</td>
<td>어려움</td>
<td>중간</td>
</tr>
<tr>
<td><strong>차트 종류</strong></td>
<td>매우 많음 (30+)</td>
<td>기본적 (8개)</td>
<td>무제한 (직접 구현)</td>
<td>많음 (20+)</td>
</tr>
<tr>
<td><strong>성능</strong></td>
<td>매우 우수</td>
<td>보통</td>
<td>우수</td>
<td>우수</td>
</tr>
<tr>
<td><strong>커스터마이징</strong></td>
<td>높음</td>
<td>중간</td>
<td>매우 높음</td>
<td>높음</td>
</tr>
<tr>
<td><strong>라이선스</strong></td>
<td>Apache 2.0 (무료)</td>
<td>MIT (무료)</td>
<td>BSD (무료)</td>
<td>상업용 유료</td>
</tr>
<tr>
<td><strong>파일 크기</strong></td>
<td>큼 (\~1MB)</td>
<td>작음 (\~200KB)</td>
<td>중간 (\~500KB)</td>
<td>큼 (\~1MB)</td>
</tr>
</tbody>
</table>
<h3 id="echarts_3"><strong>ECharts를 선택한 이유</strong></h3>
<p>기반기술센터의 AFM Data Viewer 프로젝트에서 ECharts를 선택한 주요 이유는 다음과 같습니다:</p>
<ol>
<li><strong>무료 라이선스</strong>: Apache 2.0 라이선스로 상업적 사용에 제약이 없습니다.</li>
<li><strong>풍부한 차트 타입</strong>: 반도체 데이터 분석에 필요한 다양한 시각화를 한 라이브러리로 해결할 수 있습니다.</li>
<li><strong>뛰어난 성능</strong>: 대용량 측정 데이터를 처리해도 브라우저가 느려지지 않습니다.</li>
<li><strong>Vue.js와의 호환성</strong>: Vue 컴포넌트로 쉽게 통합할 수 있습니다.</li>
</ol>
<h2 id="_2"><strong>설치 및 기본 설정</strong></h2>
<h3 id="echarts_4"><strong>ECharts 설치하기</strong></h3>
<p>프로젝트 디렉토리에서 다음 명령어를 실행합니다:</p>
<div class="highlight"><pre><span></span><code><span class="c1"># ECharts 설치</span>
npm<span class="w"> </span>install<span class="w"> </span>echarts
</code></pre></div>

<h3 id="_3"><strong>기본 설정</strong></h3>
<p><strong>전체 ECharts 가져오기 (간단한 방법)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// main.js 또는 컴포넌트에서</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">echarts</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;echarts&quot;</span><span class="p">;</span>

<span class="c1">// 전역으로 사용하고 싶은 경우</span>
<span class="nx">app</span><span class="p">.</span><span class="nx">config</span><span class="p">.</span><span class="nx">globalProperties</span><span class="p">.</span><span class="nx">$echarts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">echarts</span><span class="p">;</span>
</code></pre></div>

<p><strong>필요한 모듈만 가져오기 (권장 - 번들 크기 최적화)</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 필요한 차트와 컴포넌트만 import</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">init</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;echarts/core&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">LineChart</span><span class="p">,</span><span class="w"> </span><span class="nx">BarChart</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;echarts/charts&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">TitleComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TooltipComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">GridComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">LegendComponent</span><span class="p">,</span>
<span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;echarts/components&quot;</span><span class="p">;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">CanvasRenderer</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s2">&quot;echarts/renderers&quot;</span><span class="p">;</span>

<span class="c1">// ECharts에 사용할 기능들 등록</span>
<span class="nx">echarts</span><span class="p">.</span><span class="nx">use</span><span class="p">([</span>
<span class="w">  </span><span class="nx">LineChart</span><span class="p">,</span>
<span class="w">  </span><span class="nx">BarChart</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TitleComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">TooltipComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">GridComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">LegendComponent</span><span class="p">,</span>
<span class="w">  </span><span class="nx">CanvasRenderer</span><span class="p">,</span>
<span class="p">]);</span>
</code></pre></div>

<h3 id="vue-echarts"><strong>Vue 컴포넌트에서 ECharts 통합하기</strong></h3>
<h2 id="_4"><strong>핵심 통합 개념들</strong></h2>
<h3 id="1"><strong>1. 차트 인스턴스 생명주기 관리</strong></h3>
<p>ECharts 인스턴스는 적절한 생명주기 (life cycle) 관리가 필수입니다:</p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="s2">&quot;chartContainer&quot;</span><span class="w"> </span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;width: 100%; height: 400px;&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
<span class="o">&lt;</span><span class="err">/template&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">echarts</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;echarts&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">onMounted</span><span class="p">,</span><span class="w"> </span><span class="nx">onBeforeUnmount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">chartContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">initChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 기존 차트가 있다면 먼저 해제</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 새 인스턴스 생성</span>
<span class="w">  </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartContainer</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>

<span class="w">  </span><span class="c1">// 차트 옵션은 ECharts 공식 홈페이지 예제 참조</span>
<span class="w">  </span><span class="c1">// https://echarts.apache.org/examples/</span>
<span class="p">}</span>

<span class="nx">onMounted</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">initChart</span><span class="p">()</span>
<span class="p">})</span>

<span class="nx">onBeforeUnmount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 메모리 누수 방지를 위한 정리</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<p><strong>🔥 중요한 메모리 관리 포인트:</strong></p>
<ul>
<li><code>onBeforeUnmount</code>에서 반드시 <code>dispose()</code> 호출</li>
<li>차트 참조를 <code>null</code>로 초기화</li>
<li>여러 차트가 있는 페이지에서는 더욱 중요</li>
</ul>
<h3 id="2"><strong>2. 반응형 크기 조정</strong></h3>
<p>사용자가 브라우저 크기를 변경하거나 Vuetify 레이아웃이 변할 때 차트 크기 자동 조정:</p>
<div class="highlight"><pre><span></span><code><span class="nx">mounted</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">this</span><span class="p">.</span><span class="nx">initChart</span><span class="p">()</span>

<span class="w">  </span><span class="c1">// 윈도우 리사이즈 이벤트 등록</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleResize</span><span class="p">)</span>
<span class="p">},</span>
<span class="nx">beforeUnmount</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="k">this</span><span class="p">.</span><span class="nx">handleResize</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">},</span>
<span class="nx">methods</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">handleResize</span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">this</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">resize</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
</code></pre></div>

<h2 id="_5"><strong>차트 컴포넌트 만들기</strong></h2>
<h3 id="_6"><strong>재사용 가능한 차트 컴포넌트 설계</strong></h3>
<p>실제 프로젝트에서는 차트를 재사용 가능한 컴포넌트로 만드는 것이 중요합니다. 다음은 AFM 데이터 뷰어에서 사용할 수 있는 범용 차트 컴포넌트 예제입니다.</p>
<p><strong>BaseChart.vue - 기본 차트 컴포넌트</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="kd">class</span><span class="o">=</span><span class="s2">&quot;chart-container&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">div</span><span class="w"> </span><span class="nx">ref</span><span class="o">=</span><span class="s2">&quot;chartRef&quot;</span><span class="w"> </span><span class="o">:</span><span class="nx">style</span><span class="o">=</span><span class="s2">&quot;{ width: width, height: height }&quot;</span><span class="o">&gt;&lt;</span><span class="err">/div&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/div&gt;</span>
<span class="o">&lt;</span><span class="err">/template&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="kr">as</span><span class="w"> </span><span class="nx">echarts</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;echarts&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">watch</span><span class="p">,</span><span class="w"> </span><span class="nx">onMounted</span><span class="p">,</span><span class="w"> </span><span class="nx">onBeforeUnmount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineProps</span><span class="p">({</span>
<span class="w">  </span><span class="c1">// 차트 옵션</span>
<span class="w">  </span><span class="nx">option</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Object</span><span class="p">,</span>
<span class="w">    </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// 차트 크기</span>
<span class="w">  </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;100%&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;400px&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="c1">// 테마</span>
<span class="w">  </span><span class="nx">theme</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;light&#39;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">chart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chartRef</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">resizeObserver</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">initChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="c1">// 기존 차트가 있으면 제거</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 새 차트 인스턴스 생성</span>
<span class="w">  </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">chartRef</span><span class="p">.</span><span class="nx">value</span><span class="p">,</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">theme</span><span class="p">)</span>
<span class="w">  </span><span class="nx">updateChart</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">option</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">updateChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">option</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">option</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">,</span><span class="w"> </span><span class="kc">true</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">addResizeListener</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleResize</span><span class="p">)</span>
<span class="w">  </span><span class="c1">// Vuetify 레이아웃 변경 감지</span>
<span class="w">  </span><span class="nx">resizeObserver</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="ow">new</span><span class="w"> </span><span class="nx">ResizeObserver</span><span class="p">(</span><span class="nx">handleResize</span><span class="p">)</span>
<span class="w">  </span><span class="nx">resizeObserver</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">observe</span><span class="p">(</span><span class="nx">chartRef</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">removeResizeListener</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleResize</span><span class="p">)</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">resizeObserver</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">resizeObserver</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">disconnect</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">handleResize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">resize</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Watch for option changes</span>
<span class="nx">watch</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">option</span><span class="p">,</span><span class="w"> </span><span class="p">(</span><span class="nx">newOption</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">updateChart</span><span class="p">(</span><span class="nx">newOption</span><span class="p">)</span>
<span class="p">},</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">deep</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">})</span>

<span class="c1">// Watch for theme changes</span>
<span class="nx">watch</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">theme</span><span class="p">,</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">initChart</span><span class="p">()</span>
<span class="p">})</span>

<span class="nx">onMounted</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">initChart</span><span class="p">()</span>
<span class="w">  </span><span class="nx">addResizeListener</span><span class="p">()</span>
<span class="p">})</span>

<span class="nx">onBeforeUnmount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">removeResizeListener</span><span class="p">()</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">null</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>

<span class="o">&lt;</span><span class="nx">style</span><span class="w"> </span><span class="nx">scoped</span><span class="o">&gt;</span>
<span class="p">.</span><span class="nx">chart</span><span class="o">-</span><span class="nx">container</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">position</span><span class="o">:</span><span class="w"> </span><span class="nx">relative</span><span class="p">;</span>
<span class="w">  </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span><span class="o">%</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/style&gt;</span>
</code></pre></div>

<h3 id="_7"><strong>특화된 차트 컴포넌트 만들기</strong></h3>
<p>BaseChart를 확장하여 특정 용도의 차트를 만들 수 있습니다:</p>
<p><strong>AFMLineChart.vue - AFM 측정 데이터용 라인 차트 예시</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">template</span><span class="o">&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">card</span><span class="o">&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">card</span><span class="o">-</span><span class="nx">title</span><span class="o">&gt;</span>
<span class="w">      </span><span class="p">{{</span><span class="w"> </span><span class="nx">title</span><span class="w"> </span><span class="p">}}</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">spacer</span><span class="o">&gt;&lt;</span><span class="err">/v-spacer&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">btn</span><span class="w"> </span><span class="nx">icon</span><span class="w"> </span><span class="err">@</span><span class="nx">click</span><span class="o">=</span><span class="s2">&quot;exportChart&quot;</span><span class="o">&gt;</span>
<span class="w">        </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">icon</span><span class="o">&gt;</span><span class="nx">mdi</span><span class="o">-</span><span class="nx">download</span><span class="o">&lt;</span><span class="err">/v-icon&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="err">/v-btn&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/v-card-title&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="nx">v</span><span class="o">-</span><span class="nx">card</span><span class="o">-</span><span class="nx">text</span><span class="o">&gt;</span>
<span class="w">      </span><span class="o">&lt;</span><span class="nx">base</span><span class="o">-</span><span class="nx">chart</span>
<span class="w">        </span><span class="o">:</span><span class="nx">option</span><span class="o">=</span><span class="s2">&quot;chartOption&quot;</span>
<span class="w">        </span><span class="o">:</span><span class="nx">height</span><span class="o">=</span><span class="s2">&quot;height&quot;</span>
<span class="w">        </span><span class="nx">ref</span><span class="o">=</span><span class="s2">&quot;baseChart&quot;</span>
<span class="w">      </span><span class="o">/&gt;</span>
<span class="w">    </span><span class="o">&lt;</span><span class="err">/v-card-text&gt;</span>
<span class="w">  </span><span class="o">&lt;</span><span class="err">/v-card&gt;</span>
<span class="o">&lt;</span><span class="err">/template&gt;</span>

<span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">setup</span><span class="o">&gt;</span>

<span class="k">import</span><span class="w"> </span><span class="nx">BaseChart</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;./BaseChart.vue&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">computed</span><span class="p">,</span><span class="w"> </span><span class="nx">ref</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">props</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">defineProps</span><span class="p">({</span>
<span class="w">  </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;AFM 측정 데이터&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">Array</span><span class="p">,</span>
<span class="w">    </span><span class="nx">required</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">xAxisLabel</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;측정 위치 (nm)&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">yAxisLabel</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;높이 (nm)&#39;</span>
<span class="w">  </span><span class="p">},</span>
<span class="w">  </span><span class="nx">height</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="nb">String</span><span class="p">,</span>
<span class="w">    </span><span class="k">default</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;400px&#39;</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">baseChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">chartOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">computed</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">title</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">show</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="w"> </span><span class="c1">// 카드 타이틀 사용</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">tooltip</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">trigger</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;axis&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">formatter</span><span class="o">:</span><span class="w"> </span><span class="p">(</span><span class="nx">params</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">const</span><span class="w"> </span><span class="nx">point</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">params</span><span class="p">[</span><span class="mf">0</span><span class="p">]</span>
<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">xAxisLabel</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">point</span><span class="p">.</span><span class="nx">axisValue</span><span class="si">}</span><span class="sb">&lt;br/&gt;</span>
<span class="sb">                </span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">yAxisLabel</span><span class="si">}</span><span class="sb">: </span><span class="si">${</span><span class="nx">point</span><span class="p">.</span><span class="nx">value</span><span class="si">}</span><span class="sb"> nm`</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">grid</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">left</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10%&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">right</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;5%&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">bottom</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;15%&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">top</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;10%&#39;</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">xAxis</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;category&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">xAxisLabel</span><span class="p">,</span>
<span class="w">      </span><span class="nx">nameLocation</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">nameGap</span><span class="o">:</span><span class="w"> </span><span class="mf">30</span><span class="p">,</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">x</span><span class="p">)</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">yAxis</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;value&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">name</span><span class="o">:</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">yAxisLabel</span><span class="p">,</span>
<span class="w">      </span><span class="nx">nameLocation</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;middle&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">nameGap</span><span class="o">:</span><span class="w"> </span><span class="mf">50</span>
<span class="w">    </span><span class="p">},</span>
<span class="w">    </span><span class="nx">series</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;line&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">smooth</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">      </span><span class="nx">symbol</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;none&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">lineStyle</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#1976D2&#39;</span><span class="p">,</span>
<span class="w">        </span><span class="nx">width</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">areaStyle</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="p">{</span>
<span class="w">          </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;linear&#39;</span><span class="p">,</span>
<span class="w">          </span><span class="nx">x</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">x2</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">y2</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span>
<span class="w">          </span><span class="nx">colorStops</span><span class="o">:</span><span class="w"> </span><span class="p">[</span>
<span class="w">            </span><span class="p">{</span><span class="w"> </span><span class="nx">offset</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;rgba(25, 118, 210, 0.3)&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">            </span><span class="p">{</span><span class="w"> </span><span class="nx">offset</span><span class="o">:</span><span class="w"> </span><span class="mf">1</span><span class="p">,</span><span class="w"> </span><span class="nx">color</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;rgba(25, 118, 210, 0.05)&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">          </span><span class="p">]</span>
<span class="w">        </span><span class="p">}</span>
<span class="w">      </span><span class="p">},</span>
<span class="w">      </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">props</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">item</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">item</span><span class="p">.</span><span class="nx">y</span><span class="p">)</span>
<span class="w">    </span><span class="p">}],</span>
<span class="w">    </span><span class="nx">dataZoom</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;inside&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">start</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">end</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span>
<span class="w">    </span><span class="p">},</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;slider&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">start</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">      </span><span class="nx">end</span><span class="o">:</span><span class="w"> </span><span class="mf">100</span>
<span class="w">    </span><span class="p">}]</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">})</span>

<span class="kd">const</span><span class="w"> </span><span class="nx">exportChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">baseChart</span><span class="p">.</span><span class="nx">value</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="nx">baseChart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">chart</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">url</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">baseChart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">chart</span><span class="p">.</span><span class="nx">getDataURL</span><span class="p">({</span>
<span class="w">      </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;png&#39;</span><span class="p">,</span>
<span class="w">      </span><span class="nx">pixelRatio</span><span class="o">:</span><span class="w"> </span><span class="mf">2</span><span class="p">,</span>
<span class="w">      </span><span class="nx">backgroundColor</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;#fff&#39;</span>
<span class="w">    </span><span class="p">})</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">link</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="w">    </span><span class="nx">link</span><span class="p">.</span><span class="nx">download</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span><span class="si">${</span><span class="nx">props</span><span class="p">.</span><span class="nx">title</span><span class="si">}</span><span class="sb">_</span><span class="si">${</span><span class="ow">new</span><span class="w"> </span><span class="nb">Date</span><span class="p">().</span><span class="nx">toISOString</span><span class="p">()</span><span class="si">}</span><span class="sb">.png`</span>
<span class="w">    </span><span class="nx">link</span><span class="p">.</span><span class="nx">href</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">url</span>
<span class="w">    </span><span class="nx">link</span><span class="p">.</span><span class="nx">click</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<h2 id="vue-echarts_1">Vue와 ECharts 통합 시 고려사항</h2>
<h3 id="_8">차트 타입 선택 전략</h3>
<p>ECharts는 다양한 차트 타입을 제공하며, 각 차트의 구체적인 구현 코드는 <a href="https://echarts.apache.org/examples/">ECharts 공식 홈페이지</a>에서 확인할 수 있습니다.</p>
<p><strong>반도체 데이터 분석에 적합한 차트 타입들:</strong></p>
<ul>
<li><strong>히트맵 (Heatmap)</strong>: AFM 표면 형상 데이터, 웨이퍼 맵 표시</li>
<li><strong>산점도 (Scatter Plot)</strong>: 측정값 분포, 상관관계 분석</li>
<li><strong>박스플롯 (Box Plot)</strong>: 데이터 분포와 이상치 파악</li>
<li><strong>선 그래프</strong>: 시간별 트렌드 분석</li>
<li><strong>복합 차트</strong>: 여러 데이터를 동시 비교</li>
</ul>
<h3 id="vue"><strong>차트 선택 시 Vue 통합 관점에서 고려할 점</strong></h3>
<p><strong>1. 데이터 업데이트 빈도</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 실시간 업데이트가 필요한 차트</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">realtimeCharts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;line&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;bar&quot;</span><span class="p">];</span><span class="w"> </span><span class="c1">// 빠른 업데이트 가능</span>

<span class="c1">// 정적 분석용 차트</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">staticCharts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[</span><span class="s2">&quot;heatmap&quot;</span><span class="p">,</span><span class="w"> </span><span class="s2">&quot;boxplot&quot;</span><span class="p">];</span><span class="w"> </span><span class="c1">// 대용량 데이터 처리 우수</span>
</code></pre></div>

<p><strong>2. 렌더링 성능</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 대용량 데이터용 설정</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">performanceOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">animation</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// 애니메이션 비활성화로 성능 향상</span>
<span class="w">  </span><span class="nx">progressive</span><span class="o">:</span><span class="w"> </span><span class="mf">1000</span><span class="p">,</span><span class="w"> </span><span class="c1">// 점진적 렌더링 임계값</span>
<span class="w">  </span><span class="nx">progressiveThreshold</span><span class="o">:</span><span class="w"> </span><span class="mf">3000</span><span class="p">,</span>
<span class="p">};</span>
</code></pre></div>

<p><strong>3. 상호작용 복잡도</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 복잡한 상호작용이 필요한 경우</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">interactiveCharts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">tooltip</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">dataZoom</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">  </span><span class="nx">brush</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w"> </span><span class="c1">// 데이터 선택 기능</span>
<span class="w">  </span><span class="nx">legend</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">type</span><span class="o">:</span><span class="w"> </span><span class="s2">&quot;scroll&quot;</span><span class="w"> </span><span class="p">},</span>
<span class="p">};</span>
</code></pre></div>

<h2 id="_9"><strong>반응형 차트 구현 전략</strong></h2>
<h3 id="_10"><strong>화면 크기 대응 방법</strong></h3>
<p>Vuetify와 ECharts를 함께 사용할 때 반응형 차트를 구현할 수 있습니다.</p>
<p><strong>Vue Composition API를 활용한 반응형 감지</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">computed</span><span class="p">,</span><span class="w"> </span><span class="nx">onMounted</span><span class="p">,</span><span class="w"> </span><span class="nx">onBeforeUnmount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">useDisplay</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vuetify&#39;</span>

<span class="kd">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">mobile</span><span class="p">,</span><span class="w"> </span><span class="nx">tablet</span><span class="p">,</span><span class="w"> </span><span class="nx">desktop</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">useDisplay</span><span class="p">()</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chartContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">chart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="kc">null</span><span class="p">)</span>

<span class="c1">// Vuetify의 브레이크포인트를 활용한 반응형 옵션</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">responsiveOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">computed</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">baseOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 기본 차트 설정</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 모바일 최적화</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">mobile</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">...</span><span class="nx">baseOption</span><span class="p">,</span>
<span class="w">      </span><span class="nx">grid</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">left</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;15%&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;5%&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">bottom</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;25%&#39;</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nx">legend</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">orient</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;horizontal&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">bottom</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="w"> </span><span class="p">},</span>
<span class="w">      </span><span class="nx">tooltip</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">trigger</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;axis&#39;</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="c1">// 모바일에서 더 쉬운 상호작용</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 태블릿 최적화</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">tablet</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="p">...</span><span class="nx">baseOption</span><span class="p">,</span>
<span class="w">      </span><span class="nx">grid</span><span class="o">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">left</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;12%&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">right</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;8%&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">bottom</span><span class="o">:</span><span class="w"> </span><span class="s1">&#39;15%&#39;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 데스크톱 기본 설정</span>
<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="nx">baseOption</span>
<span class="p">})</span>

<span class="c1">// 화면 크기 변경 시 차트 리사이즈</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">handleResize</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">resize</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>
<span class="p">}</span>

<span class="nx">onMounted</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleResize</span><span class="p">)</span>
<span class="p">})</span>

<span class="nx">onBeforeUnmount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nb">window</span><span class="p">.</span><span class="nx">removeEventListener</span><span class="p">(</span><span class="s1">&#39;resize&#39;</span><span class="p">,</span><span class="w"> </span><span class="nx">handleResize</span><span class="p">)</span>
<span class="p">})</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<h3 id="_11"><strong>성능 최적화와 메모리 관리</strong></h3>
<p>Vue 애플리케이션에서 ECharts를 사용할 때 가장 중요한 부분입니다.</p>
<p><strong>대용량 데이터 처리 전략</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">setup</span><span class="o">&gt;</span>
<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">computed</span><span class="p">,</span><span class="w"> </span><span class="nx">onBeforeUnmount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>

<span class="c1">// 데이터 최적화를 위한 컴포저블 함수</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">useChartDataOptimization</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">maxDataPoints</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="mf">1000</span><span class="p">)</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">optimizeData</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="nx">maxDataPoints</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span>

<span class="w">    </span><span class="c1">// 다운샘플링: LTTB 알고리즘 적용</span>
<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">step</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">Math</span><span class="p">.</span><span class="nx">ceil</span><span class="p">(</span><span class="nx">data</span><span class="p">.</span><span class="nx">length</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="nx">maxDataPoints</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">data</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">_</span><span class="p">,</span><span class="w"> </span><span class="nx">index</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">index</span><span class="w"> </span><span class="o">%</span><span class="w"> </span><span class="nx">step</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="mf">0</span><span class="p">)</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">getPerformanceOption</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">baseOption</span><span class="p">,</span><span class="w"> </span><span class="nx">dataSize</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">dataSize</span><span class="w"> </span><span class="o">&gt;</span><span class="w"> </span><span class="mf">5000</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="k">return</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="p">...</span><span class="nx">baseOption</span><span class="p">,</span>
<span class="w">        </span><span class="nx">animation</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="c1">// 대용량 데이터에서 애니메이션 비활성화</span>
<span class="w">        </span><span class="nx">series</span><span class="o">:</span><span class="w"> </span><span class="nx">baseOption</span><span class="p">.</span><span class="nx">series</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">series</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">({</span>
<span class="w">          </span><span class="p">...</span><span class="nx">series</span><span class="p">,</span>
<span class="w">          </span><span class="nx">large</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span>
<span class="w">          </span><span class="nx">largeThreshold</span><span class="o">:</span><span class="w"> </span><span class="mf">2000</span><span class="p">,</span>
<span class="w">          </span><span class="nx">progressive</span><span class="o">:</span><span class="w"> </span><span class="mf">5000</span><span class="p">,</span>
<span class="w">          </span><span class="nx">progressiveThreshold</span><span class="o">:</span><span class="w"> </span><span class="mf">10000</span>
<span class="w">        </span><span class="p">}))</span>
<span class="w">      </span><span class="p">}</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">baseOption</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">optimizeData</span><span class="p">,</span><span class="w"> </span><span class="nx">getPerformanceOption</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<p><strong>메모리 누수 방지</strong></p>
<div class="highlight"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="o">&gt;</span>

<span class="k">import</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">ref</span><span class="p">,</span><span class="w"> </span><span class="nx">onBeforeUnmount</span><span class="w"> </span><span class="p">}</span><span class="w"> </span><span class="kr">from</span><span class="w"> </span><span class="s1">&#39;vue&#39;</span>

<span class="c1">// 차트 인스턴스 관리 컴포저블</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">useChartManager</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">charts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">ref</span><span class="p">(</span><span class="ow">new</span><span class="w"> </span><span class="nb">Map</span><span class="p">())</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">createChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">container</span><span class="p">,</span><span class="w"> </span><span class="nx">option</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="c1">// 기존 차트 정리</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">id</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">    </span><span class="p">}</span>

<span class="w">    </span><span class="kd">const</span><span class="w"> </span><span class="nx">chart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">echarts</span><span class="p">.</span><span class="nx">init</span><span class="p">(</span><span class="nx">container</span><span class="p">)</span>
<span class="w">    </span><span class="nx">chart</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span><span class="nx">option</span><span class="p">)</span>
<span class="w">    </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">set</span><span class="p">(</span><span class="nx">id</span><span class="p">,</span><span class="w"> </span><span class="nx">chart</span><span class="p">)</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="nx">chart</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">removeChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">id</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">has</span><span class="p">(</span><span class="nx">id</span><span class="p">))</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">get</span><span class="p">(</span><span class="nx">id</span><span class="p">).</span><span class="nx">dispose</span><span class="p">()</span>
<span class="w">      </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="ow">delete</span><span class="p">(</span><span class="nx">id</span><span class="p">)</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">cleanupAllCharts</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">chart</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">chart</span><span class="p">.</span><span class="nx">dispose</span><span class="p">())</span>
<span class="w">    </span><span class="nx">charts</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">clear</span><span class="p">()</span>
<span class="w">  </span><span class="p">}</span>

<span class="w">  </span><span class="c1">// 컴포넌트 언마운트 시 자동 정리</span>
<span class="w">  </span><span class="nx">onBeforeUnmount</span><span class="p">(()</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="nx">cleanupAllCharts</span><span class="p">()</span>
<span class="w">  </span><span class="p">})</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">charts</span><span class="p">,</span><span class="w"> </span><span class="nx">createChart</span><span class="p">,</span><span class="w"> </span><span class="nx">removeChart</span><span class="p">,</span><span class="w"> </span><span class="nx">cleanupAllCharts</span><span class="w"> </span><span class="p">}</span>
<span class="p">}</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<p><strong>데이터 업데이트 최적화</strong></p>
<div class="highlight"><pre><span></span><code><span class="c1">// 데이터 변경 감지 및 효율적 업데이트</span>
<span class="kd">const</span><span class="w"> </span><span class="nx">useChartDataUpdate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">chart</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="kd">const</span><span class="w"> </span><span class="nx">updateChart</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span><span class="nx">newData</span><span class="p">,</span><span class="w"> </span><span class="nx">updateType</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;replace&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="o">!</span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="p">;</span>

<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">updateType</span><span class="w"> </span><span class="o">===</span><span class="w"> </span><span class="s2">&quot;append&quot;</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 실시간 데이터 추가 (차트 전체 재렌더링 방지)</span>
<span class="w">      </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">appendData</span><span class="p">({</span>
<span class="w">        </span><span class="nx">seriesIndex</span><span class="o">:</span><span class="w"> </span><span class="mf">0</span><span class="p">,</span>
<span class="w">        </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">newData</span><span class="p">,</span>
<span class="w">      </span><span class="p">});</span>
<span class="w">    </span><span class="p">}</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="p">{</span>
<span class="w">      </span><span class="c1">// 전체 데이터 교체 (notMerge: false로 성능 향상)</span>
<span class="w">      </span><span class="nx">chart</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">setOption</span><span class="p">(</span>
<span class="w">        </span><span class="p">{</span>
<span class="w">          </span><span class="nx">series</span><span class="o">:</span><span class="w"> </span><span class="p">[{</span><span class="w"> </span><span class="nx">data</span><span class="o">:</span><span class="w"> </span><span class="nx">newData</span><span class="w"> </span><span class="p">}],</span>
<span class="w">        </span><span class="p">},</span>
<span class="w">        </span><span class="p">{</span><span class="w"> </span><span class="nx">notMerge</span><span class="o">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w"> </span><span class="nx">lazyUpdate</span><span class="o">:</span><span class="w"> </span><span class="kc">true</span><span class="w"> </span><span class="p">}</span>
<span class="w">      </span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">  </span><span class="p">};</span>

<span class="w">  </span><span class="k">return</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="nx">updateChart</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>
</code></pre></div>

<p><strong>📊 원하는 형태로 Chart를 구현하는데는 많은 설정이 필요합니다. 초기에 학습을 위해서 직접 타이핑을 해가며 echarts 사용에 익숙해지는 게 중요합니다. 익숙해진 이후에는 ECharts 공식 홈페이지의 예제를 참고하여 구체적으로 어떻게 차트를 구성할 지 플랜을 작성하고, LLM의 도움을 받는게 효율적입니다.</strong></p>
</body>
</html>