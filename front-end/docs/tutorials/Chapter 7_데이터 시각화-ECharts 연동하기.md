# **ë°ì´í„° ì‹œê°í™” - ECharts ì—°ë™í•˜ê¸°**

## **ECharts ì†Œê°œ**

### **EChartsë€ ë¬´ì—‡ì¸ê°€?**

ECharts(Enterprise Charts)ëŠ” Apache ì†Œí”„íŠ¸ì›¨ì–´ ì¬ë‹¨ì—ì„œ ê´€ë¦¬í•˜ëŠ” ì˜¤í”ˆì†ŒìŠ¤ ë°ì´í„° ì‹œê°í™” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ì›ë˜ ì¤‘êµ­ì˜ Baiduì—ì„œ ê°œë°œí–ˆìœ¼ë©°, í˜„ì¬ëŠ” Apache í”„ë¡œì íŠ¸ë¡œ ì „ ì„¸ê³„ì ìœ¼ë¡œ í™œë°œíˆ ì‚¬ìš©ë˜ê³  ìˆìŠµë‹ˆë‹¤. ë°˜ë„ì²´ ì¥ë¹„ì—ì„œ ìƒì„±ë˜ëŠ” ë³µì¡í•œ ë°ì´í„°ë¥¼ ì§ê´€ì ìœ¼ë¡œ ì‹œê°í™”í•˜ëŠ” ë° ë§¤ìš° ì í•©í•œ ë„êµ¬ì…ë‹ˆë‹¤.

**ğŸ’¡ ì¶”ê°€ í•™ìŠµ ìë£Œ**
ECharts ê³µì‹ í™ˆí˜ì´ì§€(https://echarts.apache.org/examples/)ì—ì„œ ë‹¤ì–‘í•œ ì°¨íŠ¸ì™€ ì˜ˆì œë“¤ì„ ë³¼ ìˆ˜ ìˆìœ¼ë‹ˆ ì§ì ‘ ì½”ë“œë¥¼ í™•ì¸í•˜ë©´ì„œ êµ¬í˜„í•˜ê¸¸ ì¶”ì²œí•©ë‹ˆë‹¤.

### **EChartsì˜ ì£¼ìš” íŠ¹ì§•**

**ê°•ë ¥í•œ ì„±ëŠ¥** EChartsëŠ” Canvasì™€ SVG ë Œë”ë§ì„ ëª¨ë‘ ì§€ì›í•˜ì—¬ ëŒ€ìš©ëŸ‰ ë°ì´í„°ë„ ë¶€ë“œëŸ½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ AFM ì¸¡ì • ë°ì´í„°ì²˜ëŸ¼ ìˆ˜ë§Œ ê°œì˜ ë°ì´í„° í¬ì¸íŠ¸ë¥¼ ê°€ì§„ ê²½ìš°ì—ë„ ì„±ëŠ¥ ì €í•˜ ì—†ì´ ì‹œê°í™”ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤. ìŠ¤íŠ¸ë¦¬ë° ë°ì´í„°ë‚˜ ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ëŒ€ì‹œë³´ë“œì—ì„œë„ ì•ˆì •ì ì¸ ì„±ëŠ¥ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.

**ë‹¤ì–‘í•œ ì°¨íŠ¸ íƒ€ì…** ê¸°ë³¸ì ì¸ ì„  ê·¸ë˜í”„, ë§‰ëŒ€ ê·¸ë˜í”„ë¶€í„° íˆíŠ¸ë§µ, 3D ì°¨íŠ¸, ì§€ë„ ê¸°ë°˜ ì‹œê°í™”ê¹Œì§€ 30ê°€ì§€ ì´ìƒì˜ ì°¨íŠ¸ íƒ€ì…ì„ ì œê³µí•©ë‹ˆë‹¤. ë°˜ë„ì²´ ê³µì • ë°ì´í„° ë¶„ì„ì— ìì£¼ ì‚¬ìš©ë˜ëŠ” ë°•ìŠ¤í”Œë¡¯, ì‚°ì ë„ í–‰ë ¬, í‰í–‰ ì¢Œí‘œê³„ ë“± ê³ ê¸‰ ì°¨íŠ¸ë„ ì§€ì›í•©ë‹ˆë‹¤.

**ì¸í„°ë™í‹°ë¸Œ ê¸°ëŠ¥** ì‚¬ìš©ìê°€ ì°¨íŠ¸ì™€ ìƒí˜¸ì‘ìš©í•  ìˆ˜ ìˆëŠ” ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ë°ì´í„° ì¤Œ, ë“œë˜ê·¸, íˆ´íŒ, ë²”ë¡€ í•„í„°ë§ ë“±ìœ¼ë¡œ ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë°ì´í„°ë¥¼ ììœ ë¡­ê²Œ íƒìƒ‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŠ” ì—”ì§€ë‹ˆì–´ê°€ íŠ¹ì • êµ¬ê°„ì˜ ë°ì´í„°ë¥¼ ì„¸ë°€í•˜ê²Œ ë¶„ì„í•  ë•Œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

### **ë‹¤ë¥¸ ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ì™€ì˜ ë¹„êµ**

| íŠ¹ì§•             | ECharts           | Chart.js       | D3.js              | Highcharts  |
| ---------------- | ----------------- | -------------- | ------------------ | ----------- |
| **í•™ìŠµ ê³¡ì„ **    | ì¤‘ê°„              | ì‰¬ì›€           | ì–´ë ¤ì›€             | ì¤‘ê°„        |
| **ì°¨íŠ¸ ì¢…ë¥˜**    | ë§¤ìš° ë§ìŒ (30+)   | ê¸°ë³¸ì  (8ê°œ)   | ë¬´ì œí•œ (ì§ì ‘ êµ¬í˜„) | ë§ìŒ (20+)  |
| **ì„±ëŠ¥**         | ë§¤ìš° ìš°ìˆ˜         | ë³´í†µ           | ìš°ìˆ˜               | ìš°ìˆ˜        |
| **ì»¤ìŠ¤í„°ë§ˆì´ì§•** | ë†’ìŒ              | ì¤‘ê°„           | ë§¤ìš° ë†’ìŒ          | ë†’ìŒ        |
| **ë¼ì´ì„ ìŠ¤**     | Apache 2.0 (ë¬´ë£Œ) | MIT (ë¬´ë£Œ)     | BSD (ë¬´ë£Œ)         | ìƒì—…ìš© ìœ ë£Œ |
| **íŒŒì¼ í¬ê¸°**    | í¼ (\~1MB)        | ì‘ìŒ (\~200KB) | ì¤‘ê°„ (\~500KB)     | í¼ (\~1MB)  |

### **EChartsë¥¼ ì„ íƒí•œ ì´ìœ **

SK hynix ITCì˜ AFM Data Viewer í”„ë¡œì íŠ¸ì—ì„œ EChartsë¥¼ ì„ íƒí•œ ì£¼ìš” ì´ìœ ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤:

1. **ë¬´ë£Œ ë¼ì´ì„ ìŠ¤**: Apache 2.0 ë¼ì´ì„ ìŠ¤ë¡œ ìƒì—…ì  ì‚¬ìš©ì— ì œì•½ì´ ì—†ìŠµë‹ˆë‹¤.
2. **í’ë¶€í•œ ì°¨íŠ¸ íƒ€ì…**: ë°˜ë„ì²´ ë°ì´í„° ë¶„ì„ì— í•„ìš”í•œ ë‹¤ì–‘í•œ ì‹œê°í™”ë¥¼ í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
3. **ë›°ì–´ë‚œ ì„±ëŠ¥**: ëŒ€ìš©ëŸ‰ ì¸¡ì • ë°ì´í„°ë¥¼ ì²˜ë¦¬í•´ë„ ë¸Œë¼ìš°ì €ê°€ ëŠë ¤ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.
4. **Vue.jsì™€ì˜ í˜¸í™˜ì„±**: Vue ì»´í¬ë„ŒíŠ¸ë¡œ ì‰½ê²Œ í†µí•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## **ì„¤ì¹˜ ë° ê¸°ë³¸ ì„¤ì •**

### **ECharts ì„¤ì¹˜í•˜ê¸°**

í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤:

```bash
# ECharts ì„¤ì¹˜
npm install echarts
```

### **ê¸°ë³¸ ì„¤ì •**

**ì „ì²´ ECharts ê°€ì ¸ì˜¤ê¸° (ê°„ë‹¨í•œ ë°©ë²•)**

```javascript
// main.js ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ
import * as echarts from "echarts";

// ì „ì—­ìœ¼ë¡œ ì‚¬ìš©í•˜ê³  ì‹¶ì€ ê²½ìš°
app.config.globalProperties.$echarts = echarts;
```

**í•„ìš”í•œ ëª¨ë“ˆë§Œ ê°€ì ¸ì˜¤ê¸° (ê¶Œì¥ \- ë²ˆë“¤ í¬ê¸° ìµœì í™”)**

```javascript
// í•„ìš”í•œ ì°¨íŠ¸ì™€ ì»´í¬ë„ŒíŠ¸ë§Œ import
import { init } from "echarts/core";
import { LineChart, BarChart } from "echarts/charts";
import {
  TitleComponent,
  TooltipComponent,
  GridComponent,
  LegendComponent,
} from "echarts/components";
import { CanvasRenderer } from "echarts/renderers";

// EChartsì— ì‚¬ìš©í•  ê¸°ëŠ¥ë“¤ ë“±ë¡
echarts.use([
  LineChart,
  BarChart,
  TitleComponent,
  TooltipComponent,
  GridComponent,
  LegendComponent,
  CanvasRenderer,
]);
```

### **Vue ì»´í¬ë„ŒíŠ¸ì—ì„œ ECharts í†µí•©í•˜ê¸°**

## **í•µì‹¬ í†µí•© ê°œë…ë“¤**

### **1. ì°¨íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒëª…ì£¼ê¸° ê´€ë¦¬**

ECharts ì¸ìŠ¤í„´ìŠ¤ëŠ” ì ì ˆí•œ ìƒëª…ì£¼ê¸° (life cycle) ê´€ë¦¬ê°€ í•„ìˆ˜ì…ë‹ˆë‹¤:

```javascript
<template>
  <div ref="chartContainer" style="width: 100%; height: 400px;"></div>
</template>

<script setup>
import * as echarts from 'echarts'
import { ref, onMounted, onBeforeUnmount } from 'vue'

const chartContainer = ref(null)
const chart = ref(null)

const initChart = () => {
  // ê¸°ì¡´ ì°¨íŠ¸ê°€ ìˆë‹¤ë©´ ë¨¼ì € í•´ì œ
  if (chart.value) {
    chart.value.dispose()
  }

  // ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  chart.value = echarts.init(chartContainer.value)

  // ì°¨íŠ¸ ì˜µì…˜ì€ ECharts ê³µì‹ í™ˆí˜ì´ì§€ ì˜ˆì œ ì°¸ì¡°
  // https://echarts.apache.org/examples/
}

onMounted(() => {
  initChart()
})

onBeforeUnmount(() => {
  // ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ì •ë¦¬
  if (chart.value) {
    chart.value.dispose()
    chart.value = null
  }
})
</script>
```

**ğŸ”¥ ì¤‘ìš”í•œ ë©”ëª¨ë¦¬ ê´€ë¦¬ í¬ì¸íŠ¸:**

- `onBeforeUnmount`ì—ì„œ ë°˜ë“œì‹œ `dispose()` í˜¸ì¶œ
- ì°¨íŠ¸ ì°¸ì¡°ë¥¼ `null`ë¡œ ì´ˆê¸°í™”
- ì—¬ëŸ¬ ì°¨íŠ¸ê°€ ìˆëŠ” í˜ì´ì§€ì—ì„œëŠ” ë”ìš± ì¤‘ìš”

### **2. ë°˜ì‘í˜• í¬ê¸° ì¡°ì •**

ì‚¬ìš©ìê°€ ë¸Œë¼ìš°ì € í¬ê¸°ë¥¼ ë³€ê²½í•˜ê±°ë‚˜ Vuetify ë ˆì´ì•„ì›ƒì´ ë³€í•  ë•Œ ì°¨íŠ¸ í¬ê¸° ìë™ ì¡°ì •:

```javascript
mounted() {
  this.initChart()

  // ìœˆë„ìš° ë¦¬ì‚¬ì´ì¦ˆ ì´ë²¤íŠ¸ ë“±ë¡
  window.addEventListener('resize', this.handleResize)
},
beforeUnmount() {
  window.removeEventListener('resize', this.handleResize)
  if (this.chart) {
    this.chart.dispose()
  }
},
methods: {
  handleResize() {
    if (this.chart) {
      this.chart.resize()
    }
  }
}
```

## **ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°**

### **ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„**

ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ì°¨íŠ¸ë¥¼ ì¬ì‚¬ìš© ê°€ëŠ¥í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ë§Œë“œëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ë‹¤ìŒì€ AFM ë°ì´í„° ë·°ì–´ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ë²”ìš© ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ì˜ˆì œì…ë‹ˆë‹¤.

**BaseChart.vue - ê¸°ë³¸ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸**

```javascript
<template>
  <div class="chart-container">
    <div ref="chartRef" :style="{ width: width, height: height }"></div>
  </div>
</template>

<script setup>
import * as echarts from 'echarts'
import { ref, watch, onMounted, onBeforeUnmount } from 'vue'

const props = defineProps({
  // ì°¨íŠ¸ ì˜µì…˜
  option: {
    type: Object,
    required: true
  },
  // ì°¨íŠ¸ í¬ê¸°
  width: {
    type: String,
    default: '100%'
  },
  height: {
    type: String,
    default: '400px'
  },
  // í…Œë§ˆ
  theme: {
    type: String,
    default: 'light'
  }
})

const chart = ref(null)
const chartRef = ref(null)
const resizeObserver = ref(null)

const initChart = () => {
  // ê¸°ì¡´ ì°¨íŠ¸ê°€ ìˆìœ¼ë©´ ì œê±°
  if (chart.value) {
    chart.value.dispose()
  }

  // ìƒˆ ì°¨íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ìƒì„±
  chart.value = echarts.init(chartRef.value, props.theme)
  updateChart(props.option)
}

const updateChart = (option) => {
  if (chart.value && option) {
    chart.value.setOption(option, true)
  }
}

const addResizeListener = () => {
  window.addEventListener('resize', handleResize)
  // Vuetify ë ˆì´ì•„ì›ƒ ë³€ê²½ ê°ì§€
  resizeObserver.value = new ResizeObserver(handleResize)
  resizeObserver.value.observe(chartRef.value)
}

const removeResizeListener = () => {
  window.removeEventListener('resize', handleResize)
  if (resizeObserver.value) {
    resizeObserver.value.disconnect()
  }
}

const handleResize = () => {
  if (chart.value) {
    chart.value.resize()
  }
}

// Watch for option changes
watch(() => props.option, (newOption) => {
  updateChart(newOption)
}, { deep: true })

// Watch for theme changes
watch(() => props.theme, () => {
  initChart()
})

onMounted(() => {
  initChart()
  addResizeListener()
})

onBeforeUnmount(() => {
  removeResizeListener()
  if (chart.value) {
    chart.value.dispose()
    chart.value = null
  }
})
</script>

<style scoped>
.chart-container {
  position: relative;
  width: 100%;
}
</style>
```

### **íŠ¹í™”ëœ ì°¨íŠ¸ ì»´í¬ë„ŒíŠ¸ ë§Œë“¤ê¸°**

BaseChartë¥¼ í™•ì¥í•˜ì—¬ íŠ¹ì • ìš©ë„ì˜ ì°¨íŠ¸ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤:

**AFMLineChart.vue - AFM ì¸¡ì • ë°ì´í„°ìš© ë¼ì¸ ì°¨íŠ¸**

````javascript
<template>
  <v-card>
    <v-card-title>
      {{ title }}
      <v-spacer></v-spacer>
      <v-btn icon @click="exportChart">
        <v-icon>mdi-download</v-icon>
      </v-btn>
    </v-card-title>
    <v-card-text>
      <base-chart
        :option="chartOption"
        :height="height"
        ref="baseChart"
      />
    </v-card-text>
  </v-card>
</template>

<script setup>

import BaseChart from './BaseChart.vue'
import { computed, ref } from 'vue'

const props = defineProps({
  title: {
    type: String,
    default: 'AFM ì¸¡ì • ë°ì´í„°'
  },
  data: {
    type: Array,
    required: true
  },
  xAxisLabel: {
    type: String,
    default: 'ì¸¡ì • ìœ„ì¹˜ (nm)'
  },
  yAxisLabel: {
    type: String,
    default: 'ë†’ì´ (nm)'
  },
  height: {
    type: String,
    default: '400px'
  }
})

const baseChart = ref(null)

const chartOption = computed(() => {
  return {
    title: {
      show: false // ì¹´ë“œ íƒ€ì´í‹€ ì‚¬ìš©
    },
    tooltip: {
      trigger: 'axis',
      formatter: (params) => {
        const point = params[0]
        return `${props.xAxisLabel}: ${point.axisValue}<br/>
                ${props.yAxisLabel}: ${point.value} nm`
      }
    },
    grid: {
      left: '10%',
      right: '5%',
      bottom: '15%',
      top: '10%'
    },
    xAxis: {
      type: 'category',
      name: props.xAxisLabel,
      nameLocation: 'middle',
      nameGap: 30,
      data: props.data.map(item => item.x)
    },
    yAxis: {
      type: 'value',
      name: props.yAxisLabel,
      nameLocation: 'middle',
      nameGap: 50
    },
    series: [{
      type: 'line',
      smooth: true,
      symbol: 'none',
      lineStyle: {
        color: '#1976D2',
        width: 2
      },
      areaStyle: {
        color: {
          type: 'linear',
          x: 0, y: 0, x2: 0, y2: 1,
          colorStops: [
            { offset: 0, color: 'rgba(25, 118, 210, 0.3)' },
            { offset: 1, color: 'rgba(25, 118, 210, 0.05)' }
          ]
        }
      },
      data: props.data.map(item => item.y)
    }],
    dataZoom: [{
      type: 'inside',
      start: 0,
      end: 100
    }, {
      type: 'slider',
      start: 0,
      end: 100
    }]
  }
})

const exportChart = () => {
  if (baseChart.value && baseChart.value.chart) {
    const url = baseChart.value.chart.getDataURL({
      type: 'png',
      pixelRatio: 2,
      backgroundColor: '#fff'
    })

    const link = document.createElement('a')
    link.download = `${props.title}_${new Date().toISOString()}.png`
    link.href = url
    link.click()
  }
}
</script>

## **Vueì™€ ECharts í†µí•© ì‹œ ê³ ë ¤ì‚¬í•­**

### **ì°¨íŠ¸ íƒ€ì… ì„ íƒ ì „ëµ**

EChartsëŠ” ë‹¤ì–‘í•œ ì°¨íŠ¸ íƒ€ì…ì„ ì œê³µí•˜ë©°, ê° ì°¨íŠ¸ì˜ êµ¬ì²´ì ì¸ êµ¬í˜„ ì½”ë“œëŠ” [ECharts ê³µì‹ í™ˆí˜ì´ì§€](https://echarts.apache.org/examples/)ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. Vue í†µí•©ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ ì°¨íŠ¸ ìì²´ê°€ ì•„ë‹ˆë¼ **ì–´ë–»ê²Œ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠëƒ**ì…ë‹ˆë‹¤.

**ë°˜ë„ì²´ ë°ì´í„° ë¶„ì„ì— ì í•©í•œ ì°¨íŠ¸ íƒ€ì…ë“¤:**

- **íˆíŠ¸ë§µ (Heatmap)**: AFM í‘œë©´ í˜•ìƒ ë°ì´í„°, ì›¨ì´í¼ ë§µ í‘œì‹œ
- **ì‚°ì ë„ (Scatter Plot)**: ì¸¡ì •ê°’ ë¶„í¬, ìƒê´€ê´€ê³„ ë¶„ì„
- **ë°•ìŠ¤í”Œë¡¯ (Box Plot)**: ë°ì´í„° ë¶„í¬ì™€ ì´ìƒì¹˜ íŒŒì•…
- **ì„  ê·¸ë˜í”„**: ì‹œê°„ë³„ íŠ¸ë Œë“œ ë¶„ì„
- **ë³µí•© ì°¨íŠ¸**: ì—¬ëŸ¬ ë°ì´í„°ë¥¼ ë™ì‹œ ë¹„êµ

### **ì°¨íŠ¸ ì„ íƒ ì‹œ Vue í†µí•© ê´€ì ì—ì„œ ê³ ë ¤í•  ì **

**1. ë°ì´í„° ì—…ë°ì´íŠ¸ ë¹ˆë„**
```javascript
// ì‹¤ì‹œê°„ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•œ ì°¨íŠ¸
const realtimeCharts = ['line', 'bar'] // ë¹ ë¥¸ ì—…ë°ì´íŠ¸ ê°€ëŠ¥

// ì •ì  ë¶„ì„ìš© ì°¨íŠ¸
const staticCharts = ['heatmap', 'boxplot'] // ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ìš°ìˆ˜
````

**2. ë Œë”ë§ ì„±ëŠ¥**

```javascript
// ëŒ€ìš©ëŸ‰ ë°ì´í„°ìš© ì„¤ì •
const performanceOption = {
  animation: false, // ì• ë‹ˆë©”ì´ì…˜ ë¹„í™œì„±í™”ë¡œ ì„±ëŠ¥ í–¥ìƒ
  progressive: 1000, // ì ì§„ì  ë Œë”ë§ ì„ê³„ê°’
  progressiveThreshold: 3000,
};
```

**3. ìƒí˜¸ì‘ìš© ë³µì¡ë„**

```javascript
// ë³µì¡í•œ ìƒí˜¸ì‘ìš©ì´ í•„ìš”í•œ ê²½ìš°
const interactiveCharts = {
  tooltip: true,
  dataZoom: true,
  brush: true, // ë°ì´í„° ì„ íƒ ê¸°ëŠ¥
  legend: { type: "scroll" },
};
```

## **ë°˜ì‘í˜• ì°¨íŠ¸ êµ¬í˜„ ì „ëµ**

### **í™”ë©´ í¬ê¸° ëŒ€ì‘ ë°©ë²•**

Vuetifyì™€ EChartsë¥¼ í•¨ê»˜ ì‚¬ìš©í•  ë•Œ ë°˜ì‘í˜• ì°¨íŠ¸ë¥¼ êµ¬í˜„í•˜ëŠ” í•µì‹¬ ì „ëµì…ë‹ˆë‹¤.

**Vue Composition APIë¥¼ í™œìš©í•œ ë°˜ì‘í˜• ê°ì§€**

```javascript
<script>

import { ref, computed, onMounted, onBeforeUnmount } from 'vue'
import { useDisplay } from 'vuetify'

const { mobile, tablet, desktop } = useDisplay()
const chartContainer = ref(null)
const chart = ref(null)

// Vuetifyì˜ ë¸Œë ˆì´í¬í¬ì¸íŠ¸ë¥¼ í™œìš©í•œ ë°˜ì‘í˜• ì˜µì…˜
const responsiveOption = computed(() => {
  const baseOption = {
    // ê¸°ë³¸ ì°¨íŠ¸ ì„¤ì •
  }

  // ëª¨ë°”ì¼ ìµœì í™”
  if (mobile.value) {
    return {
      ...baseOption,
      grid: { left: '15%', right: '5%', bottom: '25%' },
      legend: { orient: 'horizontal', bottom: 0 },
      tooltip: { trigger: 'axis' } // ëª¨ë°”ì¼ì—ì„œ ë” ì‰¬ìš´ ìƒí˜¸ì‘ìš©
    }
  }

  // íƒœë¸”ë¦¿ ìµœì í™”
  if (tablet.value) {
    return {
      ...baseOption,
      grid: { left: '12%', right: '8%', bottom: '15%' }
    }
  }

  // ë°ìŠ¤í¬í†± ê¸°ë³¸ ì„¤ì •
  return baseOption
})

// í™”ë©´ í¬ê¸° ë³€ê²½ ì‹œ ì°¨íŠ¸ ë¦¬ì‚¬ì´ì¦ˆ
const handleResize = () => {
  if (chart.value) {
    chart.value.resize()
  }
}

onMounted(() => {
  window.addEventListener('resize', handleResize)
})

onBeforeUnmount(() => {
  window.removeEventListener('resize', handleResize)
})
</script>
```

### **ì„±ëŠ¥ ìµœì í™”ì™€ ë©”ëª¨ë¦¬ ê´€ë¦¬**

Vue ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ EChartsë¥¼ ì‚¬ìš©í•  ë•Œ ê°€ì¥ ì¤‘ìš”í•œ ë¶€ë¶„ì…ë‹ˆë‹¤.

**ëŒ€ìš©ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì „ëµ**

```javascript
<script setup>
import { ref, computed, onBeforeUnmount } from 'vue'

// ë°ì´í„° ìµœì í™”ë¥¼ ìœ„í•œ ì»´í¬ì €ë¸” í•¨ìˆ˜
const useChartDataOptimization = () => {
  const maxDataPoints = ref(1000)

  const optimizeData = (data) => {
    if (data.length <= maxDataPoints.value) return data

    // ë‹¤ìš´ìƒ˜í”Œë§: LTTB ì•Œê³ ë¦¬ì¦˜ ì ìš©
    const step = Math.ceil(data.length / maxDataPoints.value)
    return data.filter((_, index) => index % step === 0)
  }

  const getPerformanceOption = (baseOption, dataSize) => {
    if (dataSize > 5000) {
      return {
        ...baseOption,
        animation: false, // ëŒ€ìš©ëŸ‰ ë°ì´í„°ì—ì„œ ì• ë‹ˆë©”ì´ì…˜ ë¹„í™œì„±í™”
        series: baseOption.series.map(series => ({
          ...series,
          large: true,
          largeThreshold: 2000,
          progressive: 5000,
          progressiveThreshold: 10000
        }))
      }
    }
    return baseOption
  }

  return { optimizeData, getPerformanceOption }
}
</script>
```

**ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€**

```javascript
<script>

import { ref, onBeforeUnmount } from 'vue'

// ì°¨íŠ¸ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬ ì»´í¬ì €ë¸”
const useChartManager = () => {
  const charts = ref(new Map())

  const createChart = (id, container, option) => {
    // ê¸°ì¡´ ì°¨íŠ¸ ì •ë¦¬
    if (charts.value.has(id)) {
      charts.value.get(id).dispose()
    }

    const chart = echarts.init(container)
    chart.setOption(option)
    charts.value.set(id, chart)

    return chart
  }

  const removeChart = (id) => {
    if (charts.value.has(id)) {
      charts.value.get(id).dispose()
      charts.value.delete(id)
    }
  }

  const cleanupAllCharts = () => {
    charts.value.forEach(chart => chart.dispose())
    charts.value.clear()
  }

  // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ìë™ ì •ë¦¬
  onBeforeUnmount(() => {
    cleanupAllCharts()
  })

  return { charts, createChart, removeChart, cleanupAllCharts }
}
</script>
```

**ë°ì´í„° ì—…ë°ì´íŠ¸ ìµœì í™”**

```javascript
// ë°ì´í„° ë³€ê²½ ê°ì§€ ë° íš¨ìœ¨ì  ì—…ë°ì´íŠ¸
const useChartDataUpdate = (chart) => {
  const updateChart = (newData, updateType = "replace") => {
    if (!chart.value) return;

    if (updateType === "append") {
      // ì‹¤ì‹œê°„ ë°ì´í„° ì¶”ê°€ (ì°¨íŠ¸ ì „ì²´ ì¬ë Œë”ë§ ë°©ì§€)
      chart.value.appendData({
        seriesIndex: 0,
        data: newData,
      });
    } else {
      // ì „ì²´ ë°ì´í„° êµì²´ (notMerge: falseë¡œ ì„±ëŠ¥ í–¥ìƒ)
      chart.value.setOption(
        {
          series: [{ data: newData }],
        },
        { notMerge: false, lazyUpdate: true }
      );
    }
  };

  return { updateChart };
};
```

### **ì‹¤ì‹œê°„ ë°ì´í„° ê´€ë¦¬ ì „ëµ**

AFM ì¥ë¹„ì—ì„œ ì‹¤ì‹œê°„ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ë°ì´í„°ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” Vue í†µí•© ë°©ë²•ì…ë‹ˆë‹¤.

**ì‹¤ì‹œê°„ ë°ì´í„° ìŠ¤íŠ¸ë¦¬ë° ì»´í¬ì €ë¸”**

```javascript
<script>

import { ref, onMounted, onBeforeUnmount } from 'vue'

const useRealtimeChart = (chart, maxDataPoints = 1000) => {
  const realtimeData = ref([])
  const isUpdating = ref(false)
  const updateInterval = ref(null)
  const errorCount = ref(0)

  // ë°ì´í„° ë²„í¼ ê´€ë¦¬
  const addDataPoint = (newPoint) => {
    realtimeData.value.push(newPoint)

    // ë©”ëª¨ë¦¬ ê´€ë¦¬: ìµœëŒ€ ë°ì´í„° í¬ì¸íŠ¸ ì œí•œ
    if (realtimeData.value.length > maxDataPoints) {
      realtimeData.value = realtimeData.value.slice(-maxDataPoints)
    }
  }

  // ë°°ì¹˜ ì—…ë°ì´íŠ¸ë¡œ ì„±ëŠ¥ í–¥ìƒ
  const updateChart = () => {
    if (!chart.value || isUpdating.value) return

    isUpdating.value = true

    requestAnimationFrame(() => {
      chart.value.setOption({
        series: [{
          data: realtimeData.value
        }]
      }, {
        notMerge: false,
        lazyUpdate: true,
        silent: true // ì´ë²¤íŠ¸ íŠ¸ë¦¬ê±° ë°©ì§€ë¡œ ì„±ëŠ¥ í–¥ìƒ
      })

      isUpdating.value = false
    })
  }

  // ì—ëŸ¬ ì²˜ë¦¬ì™€ ì¬ì—°ê²° ë¡œì§
  const fetchRealtimeData = async () => {
    try {
      const response = await fetch('/api/afm/realtime')
      if (!response.ok) throw new Error(`HTTP ${response.status}`)

      const newData = await response.json()
      newData.forEach(addDataPoint)
      updateChart()

      errorCount.value = 0 // ì„±ê³µ ì‹œ ì—ëŸ¬ ì¹´ìš´íŠ¸ ë¦¬ì…‹
    } catch (error) {
      errorCount.value++
      console.error(`ì‹¤ì‹œê°„ ë°ì´í„° ì˜¤ë¥˜ (${errorCount.value}íšŒ):`, error)

      // ì—°ì† ì—ëŸ¬ ì‹œ ì—…ë°ì´íŠ¸ ê°„ê²© ì¡°ì •
      if (errorCount.value > 5) {
        stopRealtimeUpdate()
        setTimeout(startRealtimeUpdate, 5000) // 5ì´ˆ í›„ ì¬ì‹œë„
      }
    }
  }

  const startRealtimeUpdate = () => {
    if (updateInterval.value) return

    updateInterval.value = setInterval(fetchRealtimeData, 1000)
  }

  const stopRealtimeUpdate = () => {
    if (updateInterval.value) {
      clearInterval(updateInterval.value)
      updateInterval.value = null
    }
  }

  onMounted(startRealtimeUpdate)
  onBeforeUnmount(stopRealtimeUpdate)

  return {
    realtimeData,
    startRealtimeUpdate,
    stopRealtimeUpdate,
    isUpdating
  }
}
</script>
```

### **Vuetifyì™€ ECharts í†µí•© ì „ëµ**

Vue 3 + Vuetify + EChartsì˜ íš¨ê³¼ì ì¸ í†µí•© ë°©ë²•ì…ë‹ˆë‹¤.

**í…Œë§ˆ ì—°ë™ ì‹œìŠ¤í…œ**

```javascript
<script setup>

import { computed } from 'vue'
import { useTheme } from 'vuetify'

const useChartTheme = () => {
  const theme = useTheme()

  // Vuetify í…Œë§ˆì— ë”°ë¥¸ ECharts ì„¤ì •
  const chartTheme = computed(() => {
    return theme.global.name.value === 'dark' ? 'dark' : 'light'
  })

  // í…Œë§ˆë³„ ìƒ‰ìƒ íŒ”ë ˆíŠ¸ ë§¤í•‘
  const chartColors = computed(() => {
    const currentTheme = theme.current.value
    return {
      primary: currentTheme.colors.primary,
      secondary: currentTheme.colors.secondary,
      success: currentTheme.colors.success,
      warning: currentTheme.colors.warning,
      error: currentTheme.colors.error,
      background: currentTheme.colors.background,
      surface: currentTheme.colors.surface
    }
  })

  // ECharts ì˜µì…˜ì— í…Œë§ˆ ìƒ‰ìƒ ì ìš©
  const applyThemeToOption = (baseOption) => {
    return {
      ...baseOption,
      backgroundColor: chartColors.value.background,
      textStyle: {
        color: currentTheme.colors.onBackground
      },
      color: [
        chartColors.value.primary,
        chartColors.value.secondary,
        chartColors.value.success,
        chartColors.value.warning,
        chartColors.value.error
      ]
    }
  }

  return { chartTheme, chartColors, applyThemeToOption }
}
</script>
```

**ë ˆì´ì•„ì›ƒ í†µí•©ê³¼ ì‚¬ìš©ì ê²½í—˜**

```javascript
<template>
  <v-container fluid>
    <v-row>
      <v-col
        cols="12" md="6" lg="4"
        v-for="chart in charts"
        :key="chart.id"
      >
        <v-card :loading="chart.loading" elevation="2">
          <v-card-title class="d-flex align-center">
            <v-icon :color="chart.status.color" class="mr-2">
              {{ chart.status.icon }}
            </v-icon>
            {{ chart.title }}
            <v-spacer></v-spacer>

            <!-- ì°¨íŠ¸ë³„ ì•¡ì…˜ ë©”ë‰´ -->
            <v-menu>
              <template v-slot:activator="{ props }">
                <v-btn icon="mdi-dots-vertical" v-bind="props"></v-btn>
              </template>
              <v-list>
                <v-list-item @click="exportChart(chart.id)">
                  <v-list-item-title>ì´ë¯¸ì§€ë¡œ ì €ì¥</v-list-item-title>
                </v-list-item>
                <v-list-item @click="toggleFullscreen(chart.id)">
                  <v-list-item-title>ì „ì²´í™”ë©´</v-list-item-title>
                </v-list-item>
                <v-list-item @click="refreshChart(chart.id)">
                  <v-list-item-title>ìƒˆë¡œê³ ì¹¨</v-list-item-title>
                </v-list-item>
              </v-list>
            </v-menu>
          </v-card-title>

          <v-card-text>
            <!-- ì—ëŸ¬ ìƒíƒœ í‘œì‹œ -->
            <v-alert
              v-if="chart.error"
              type="error"
              density="compact"
              class="mb-3"
            >
              ì°¨íŠ¸ ë¡œë“œ ì˜¤ë¥˜: {{ chart.error }}
            </v-alert>

            <!-- ì°¨íŠ¸ ì»¨í…Œì´ë„ˆ -->
            <div
              :ref="`chart-${chart.id}`"
              :style="{ height: getChartHeight(chart.type) }"
              class="chart-container"
            >
              <!-- ë¡œë”© ìƒíƒœ -->
              <v-skeleton-loader
                v-if="chart.loading"
                type="image"
              ></v-skeleton-loader>
            </div>
          </v-card-text>
        </v-card>
      </v-col>
    </v-row>
  </v-container>
</template>
```

## **ì—ëŸ¬ ì²˜ë¦¬ì™€ ì‚¬ìš©ì ê²½í—˜ ê°œì„ **

Vueì™€ ECharts í†µí•©ì—ì„œ ì¤‘ìš”í•œ ê²ƒì€ ì•ˆì •ì ì¸ ì—ëŸ¬ ì²˜ë¦¬ì™€ ìš°ìˆ˜í•œ ì‚¬ìš©ì ê²½í—˜ì…ë‹ˆë‹¤.

### **ì—ëŸ¬ ì²˜ë¦¬ ì „ëµ**

```javascript
<script setup>
import { ref, onMounted } from 'vue'

const useChartErrorHandling = () => {
  const chartErrors = ref(new Map())
  const retryAttempts = ref(new Map())
  const maxRetries = 3

  const handleChartError = (chartId, error) => {
    console.error(`Chart ${chartId} error:`, error)
    chartErrors.value.set(chartId, error.message)

    // ìë™ ì¬ì‹œë„ ë¡œì§
    const attempts = retryAttempts.value.get(chartId) || 0
    if (attempts < maxRetries) {
      retryAttempts.value.set(chartId, attempts + 1)
      setTimeout(() => {
        retryChart(chartId)
      }, 2000 * Math.pow(2, attempts)) // ì§€ìˆ˜ ë°±ì˜¤í”„
    }
  }

  const retryChart = (chartId) => {
    chartErrors.value.delete(chartId)
    // ì°¨íŠ¸ ì¬ì´ˆê¸°í™” ë¡œì§
  }

  const clearError = (chartId) => {
    chartErrors.value.delete(chartId)
    retryAttempts.value.delete(chartId)
  }

  return {
    chartErrors,
    handleChartError,
    retryChart,
    clearError
  }
}
</script>
```

## **í†µí•© ë² ìŠ¤íŠ¸ í”„ë™í‹°ìŠ¤ ìš”ì•½**

### **1. ìƒëª…ì£¼ê¸° ê´€ë¦¬**

- `onMounted`ì—ì„œ ì°¨íŠ¸ ì´ˆê¸°í™”
- `onBeforeUnmount`ì—ì„œ í™•ì‹¤í•œ ì •ë¦¬
- ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš© ì‹œ ì ì ˆí•œ ì´ˆê¸°í™”

### **2. ë°ì´í„° ê´€ë¦¬**

- ëŒ€ìš©ëŸ‰ ë°ì´í„°ëŠ” ë‹¤ìš´ìƒ˜í”Œë§ ì ìš©
- ì‹¤ì‹œê°„ ë°ì´í„°ëŠ” ë²„í¼ í¬ê¸° ì œí•œ
- ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ë¥¼ ìœ„í•œ ì ê·¹ì  ì •ë¦¬

### **3. ì‚¬ìš©ì ê²½í—˜**

- ë¡œë”© ìƒíƒœ í‘œì‹œ (ìŠ¤ì¼ˆë ˆí†¤ ë˜ëŠ” ìŠ¤í”¼ë„ˆ)
- ì—ëŸ¬ ìƒí™© ëª…í™•í•œ í”¼ë“œë°±
- ë°˜ì‘í˜• ë””ìì¸ìœ¼ë¡œ ëª¨ë“  ê¸°ê¸° ì§€ì›

### **4. ì„±ëŠ¥ ìµœì í™”**

- ì°¨íŠ¸ ì—…ë°ì´íŠ¸ ì‹œ `lazyUpdate: true` ì‚¬ìš©
- ì• ë‹ˆë©”ì´ì…˜ì€ í•„ìš”ì‹œì—ë§Œ í™œì„±í™”
- `requestAnimationFrame`ìœ¼ë¡œ ë Œë”ë§ ìµœì í™”

### **5. Vuetify í†µí•©**

- í…Œë§ˆ ë³€ê²½ ì‹œ ì°¨íŠ¸ ìƒ‰ìƒ ìë™ ë™ê¸°í™”
- ì¹´ë“œ ë ˆì´ì•„ì›ƒìœ¼ë¡œ ì¼ê´€ëœ UI ì œê³µ
- ë°˜ì‘í˜• ê·¸ë¦¬ë“œë¡œ ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° ëŒ€ì‘

**ğŸ“Š ì‹¤ì œ êµ¬í˜„ ì‹œì—ëŠ” ECharts ê³µì‹ í™ˆí˜ì´ì§€ì˜ ì˜ˆì œë¥¼ ì°¸ê³ í•˜ì—¬ êµ¬ì²´ì ì¸ ì°¨íŠ¸ ì½”ë“œë¥¼ ì‘ì„±í•˜ê³ , ì—¬ê¸°ì„œ ì œì‹œí•œ Vue í†µí•© íŒ¨í„´ì„ ì ìš©í•˜ëŠ” ê²ƒì´ ê°€ì¥ íš¨ìœ¨ì ì…ë‹ˆë‹¤.**

```

```
